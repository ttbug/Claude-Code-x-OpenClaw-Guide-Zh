# Claude Code ç»¼åˆå®æˆ˜ï¼šä¼ä¸šçº§æœ€ä½³å®è·µæŒ‡å—

> **è¯¾ç¨‹ä¿¡æ¯**
>
> - **ä½œè€…**ï¼šè€é‡‘
> - **é¢„è®¡å­¦æ—¶**ï¼š2-3å°æ—¶
> - **éš¾åº¦ç­‰çº§**ï¼šâ­â­â­ è¿›é˜¶
> - **æ›´æ–°æ—¥æœŸ**ï¼š2026å¹´2æœˆ
> - **é€‚ç”¨ç‰ˆæœ¬**ï¼šClaude Code v2.1+ï¼ˆéªŒè¯äº2026-02-25ï¼‰

---

## ğŸ“š æœ¬è¯¾å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬è¯¾å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š

1. **å»ºç«‹å›¢é˜Ÿåä½œè§„èŒƒ**ï¼šæ ‡å‡†åŒ–é¡¹ç›®ç»“æ„ã€CLAUDE.mdè§„èŒƒã€ä»£ç å®¡æŸ¥æµç¨‹
2. **é…ç½®CI/CDé›†æˆ**ï¼šGitHub Actionsé…ç½®ã€å®‰å…¨å®¡æŸ¥ã€è‡ªåŠ¨åŒ–æµæ°´çº¿
3. **å®æ–½å®‰å…¨ä¸åˆè§„**ï¼šæƒé™ç³»ç»Ÿã€ç™½åå•é…ç½®ã€å®¡è®¡æ—¥å¿—ã€åˆè§„æ£€æŸ¥
4. **ä¼˜åŒ–æ€§èƒ½ä¸æˆæœ¬**ï¼šä¸Šä¸‹æ–‡ç®¡ç†ã€è°ƒè¯•æŠ€å·§ã€æˆæœ¬æ§åˆ¶

---

## æœ¯è¯­è¡¨ï¼ˆå°ç™½å¿…è¯»ï¼‰

| æœ¯è¯­ | è‹±æ–‡å…¨ç§° | é€šä¿—è§£é‡Š |
|------|----------|----------|
| **CI/CD** | Continuous Integration/Continuous Deployment | æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼Œè‡ªåŠ¨åŒ–ä»£ç æµ‹è¯•å’Œå‘å¸ƒçš„æµç¨‹ |
| **GitHub Actions** | - | GitHubæä¾›çš„è‡ªåŠ¨åŒ–å·¥ä½œæµæœåŠ¡ |
| **PR** | Pull Request | ä»£ç åˆå¹¶è¯·æ±‚ï¼Œç”¨äºä»£ç å®¡æŸ¥ |
| **MCP** | Model Context Protocol | æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼Œæ‰©å±•AIèƒ½åŠ›çš„æ¥å£æ ‡å‡† |
| **ç™½åå•** | Whitelist/Allowlist | æ˜ç¡®å…è®¸æ‰§è¡Œçš„å·¥å…·æˆ–å‘½ä»¤åˆ—è¡¨ |
| **å®¡è®¡æ—¥å¿—** | Audit Log | è®°å½•æ‰€æœ‰æ“ä½œçš„æ—¥å¿—ï¼Œç”¨äºå®‰å…¨è¿½è¸ª |
| **Token** | - | AIå¤„ç†æ–‡å­—çš„è®¡è´¹å•ä½ |
| **ä¸Šä¸‹æ–‡çª—å£** | Context Window | AIå•æ¬¡å¯¹è¯èƒ½å¤„ç†çš„æœ€å¤§ä¿¡æ¯é‡ |
| **Forked Context** | - | Skillsçš„ç‹¬ç«‹ä¸Šä¸‹æ–‡ï¼Œä¸å½±å“ä¸»ä¼šè¯ |
| **Hot Reload** | - | Skillsä¿®æ”¹åè‡ªåŠ¨é‡æ–°åŠ è½½ |

---

## ç›®å½•

1. [å›¢é˜Ÿåä½œè§„èŒƒ](#1-å›¢é˜Ÿåä½œè§„èŒƒ)
2. [CI/CDé›†æˆ](#2-cicdé›†æˆ)
3. [å®‰å…¨ä¸åˆè§„](#3-å®‰å…¨ä¸åˆè§„)
4. [æ€§èƒ½ä¼˜åŒ–](#4-æ€§èƒ½ä¼˜åŒ–)
5. [ç»¼åˆç»ƒä¹ ](#5-ç»¼åˆç»ƒä¹ )

---

## 1. å›¢é˜Ÿåä½œè§„èŒƒ

### 1.1 ä¸ºä»€ä¹ˆéœ€è¦å›¢é˜Ÿè§„èŒƒ

å½“Claude Codeä»ä¸ªäººå·¥å…·æ¼”å˜ä¸ºå›¢é˜ŸåŸºç¡€è®¾æ–½æ—¶ï¼Œç¼ºä¹ç»Ÿä¸€è§„èŒƒä¼šå¯¼è‡´ä¸¥é‡é—®é¢˜ï¼š

**å…¸å‹æ··ä¹±åœºæ™¯**ï¼š
- å¼€å‘è€…Açš„CLAUDE.mdæœ‰500è¡Œè‡ªå®šä¹‰è§„åˆ™ï¼Œå¼€å‘è€…Bå®Œå…¨æ²¡æœ‰
- ä»£ç å®¡æŸ¥æ—¶AIç”Ÿæˆçš„ä»£ç é£æ ¼ä¸å›¢é˜Ÿæ ‡å‡†å®Œå…¨ä¸åŒ
- æ•æ„ŸAPIå¯†é’¥è¢«AIæ„å¤–æäº¤åˆ°ä»£ç ä»“åº“
- ä¸åŒé¡¹ç›®çš„MCPé…ç½®äº’ç›¸å†²çªå¯¼è‡´å·¥å…·å¤±æ•ˆ

è¿™äº›é—®é¢˜åœ¨3äººä»¥ä¸‹å›¢é˜Ÿå¯èƒ½è¿˜èƒ½å®¹å¿ï¼Œä½†å›¢é˜Ÿè§„æ¨¡ä¸€æ—¦è¶…è¿‡5äººï¼Œæ²¡æœ‰è§„èŒƒå°±æ˜¯ç¾éš¾çš„å¼€å§‹ã€‚

### 1.2 é¡¹ç›®ç»“æ„æ ‡å‡†åŒ–

#### 1.2.1 æ¨èçš„ç›®å½•ç»“æ„

ä¼ä¸šçº§é¡¹ç›®åº”è¯¥é‡‡ç”¨ç»Ÿä¸€çš„ç›®å½•ç»“æ„ï¼Œè®©å›¢é˜Ÿæˆå‘˜å’ŒAIåŠ©æ‰‹éƒ½èƒ½å¿«é€Ÿå®šä½æ–‡ä»¶ï¼š

```
project-root/
â”œâ”€â”€ .claude/                      # Claude Codeä¸“ç”¨é…ç½®
â”‚   â”œâ”€â”€ settings.json             # æƒé™å’Œå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ settings.local.json       # æœ¬åœ°è¦†ç›–ï¼ˆä¸å…¥åº“ï¼‰
â”‚   â”œâ”€â”€ commands/                 # è‡ªå®šä¹‰Slashå‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ 01-dev.md            # å¼€å‘ç›¸å…³å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ 02-test.md           # æµ‹è¯•ç›¸å…³å‘½ä»¤
â”‚   â”‚   â””â”€â”€ 03-deploy.md         # éƒ¨ç½²ç›¸å…³å‘½ä»¤
â”‚   â”œâ”€â”€ hooks/                    # ç”Ÿå‘½å‘¨æœŸé’©å­
â”‚   â”‚   â”œâ”€â”€ pre-commit.sh        # æäº¤å‰æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ post-review.sh       # å®¡æŸ¥åå¤„ç†
â”‚   â””â”€â”€ skills/                   # æŠ€èƒ½åŒ…ï¼ˆæ”¯æŒforked contextå’Œhot reloadï¼‰
â”‚       â””â”€â”€ project-specific/     # é¡¹ç›®ç‰¹å®šæŠ€èƒ½
â”‚           â”œâ”€â”€ skill.yaml        # æŠ€èƒ½é…ç½®ï¼ˆå¯æ·»åŠ hooksåˆ°frontmatterï¼‰
â”‚           â”œâ”€â”€ prompts/          # æç¤ºè¯æ¨¡æ¿
â”‚           â””â”€â”€ scripts/          # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ .github/                      # GitHubé›†æˆ
â”‚   â”œâ”€â”€ workflows/               # CI/CDå·¥ä½œæµ
â”‚   â”‚   â””â”€â”€ claude-review.yml   # Claudeè‡ªåŠ¨å®¡æŸ¥
â”‚   â””â”€â”€ CODEOWNERS               # ä»£ç æ‰€æœ‰è€…
â”œâ”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ ai-context/              # AIä¸Šä¸‹æ–‡æ–‡æ¡£
â”‚       â”œâ”€â”€ project-structure.md # é¡¹ç›®ç»“æ„è¯´æ˜
â”‚       â”œâ”€â”€ coding-standards.md  # ç¼–ç è§„èŒƒ
â”‚       â””â”€â”€ architecture.md      # æ¶æ„è®¾è®¡
â”œâ”€â”€ src/                          # æºä»£ç 
â”œâ”€â”€ tests/                        # æµ‹è¯•ä»£ç 
â”œâ”€â”€ CLAUDE.md                     # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ .mcp.json                     # MCPæœåŠ¡å™¨é…ç½®
â”œâ”€â”€ .gitignore                    # Gitå¿½ç•¥è§„åˆ™
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

#### 1.2.2 ç›®å½•èŒè´£åˆ’åˆ†

**`.claude/` ç›®å½•**ï¼šClaude Codeçš„"æ§åˆ¶ä¸­å¿ƒ"

| å­ç›®å½•/æ–‡ä»¶ | èŒè´£ | å…¥åº“ç­–ç•¥ |
|------------|------|----------|
| settings.json | å›¢é˜Ÿç»Ÿä¸€é…ç½® | âœ… å¿…é¡»å…¥åº“ |
| settings.local.json | ä¸ªäººæœ¬åœ°é…ç½® | âŒ ç¦æ­¢å…¥åº“ |
| commands/ | å›¢é˜Ÿå…±äº«å‘½ä»¤ | âœ… å¿…é¡»å…¥åº“ |
| hooks/ | è‡ªåŠ¨åŒ–é’©å­ | âœ… å¿…é¡»å…¥åº“ |
| skills/ | é¡¹ç›®æŠ€èƒ½åŒ… | âœ… å¿…é¡»å…¥åº“ |

**`docs/ai-context/` ç›®å½•**ï¼šAIç†è§£é¡¹ç›®çš„"è¯´æ˜ä¹¦"

è¿™ä¸ªç›®å½•ä¸“é—¨å­˜æ”¾å¸®åŠ©AIç†è§£é¡¹ç›®çš„æ–‡æ¡£ï¼Œä¸æ˜¯ç»™äººçœ‹çš„READMEï¼Œè€Œæ˜¯ç»™AIçœ‹çš„ä¸Šä¸‹æ–‡ï¼š

```markdown
# docs/ai-context/project-structure.md ç¤ºä¾‹

## é¡¹ç›®æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šReact 18 + TypeScript 5.0 + Vite 5
- åç«¯ï¼šNode.js 20 + Fastify 4
- æ•°æ®åº“ï¼šPostgreSQL 15 + Prisma ORM
- ç¼“å­˜ï¼šRedis 7
- éƒ¨ç½²ï¼šDocker + Kubernetes

## æ ¸å¿ƒæ¨¡å—
### ç”¨æˆ·æ¨¡å— (src/modules/user/)
- è´Ÿè´£ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- ä¾èµ–ï¼šJWTè®¤è¯ã€bcryptåŠ å¯†

### è®¢å•æ¨¡å— (src/modules/order/)
- è´Ÿè´£è®¢å•åˆ›å»ºã€æ”¯ä»˜ã€çŠ¶æ€ç®¡ç†
- ä¾èµ–ï¼šç”¨æˆ·æ¨¡å—ã€æ”¯ä»˜ç½‘å…³

## ä»£ç ç”Ÿæˆçº¦å®š
- æ‰€æœ‰APIå“åº”ä½¿ç”¨ç»Ÿä¸€æ ¼å¼ï¼š{ data, error, meta }
- æ•°æ®åº“æ“ä½œå¿…é¡»ä½¿ç”¨Prisma Client
- æ‰€æœ‰æ—¥æœŸæ—¶é—´ä½¿ç”¨UTCæ—¶åŒº
```

#### 1.2.3 å‘½åè§„èŒƒ

**å‘½ä»¤æ–‡ä»¶å‘½å**ï¼š`{åºå·}-{åŠŸèƒ½åŸŸ}.md`

åºå·è§„åˆ™ï¼š
- 00-09ï¼šåŸºç¡€è®¾æ–½å‘½ä»¤ï¼ˆhelpã€setupï¼‰
- 10-19ï¼šå¼€å‘å‘½ä»¤ï¼ˆdevã€buildï¼‰
- 20-29ï¼šæµ‹è¯•å‘½ä»¤ï¼ˆtestã€lintï¼‰
- 30-39ï¼šéƒ¨ç½²å‘½ä»¤ï¼ˆdeployã€releaseï¼‰
- 40-49ï¼šæ•°æ®å‘½ä»¤ï¼ˆmigrateã€seedï¼‰
- 90-99ï¼šå·¥å…·å‘½ä»¤ï¼ˆdebugã€monitorï¼‰

**æŠ€èƒ½åŒ…å‘½å**ï¼š`{é¡¹ç›®å}-{åŠŸèƒ½}`

ç¤ºä¾‹ï¼š
- `ecommerce-checkout`ï¼šç”µå•†ç»“ç®—æµç¨‹
- `cms-content-workflow`ï¼šCMSå†…å®¹å·¥ä½œæµ
- `analytics-report-generator`ï¼šåˆ†ææŠ¥å‘Šç”Ÿæˆå™¨

### 1.3 CLAUDE.mdè§„èŒƒ

#### 1.3.1 CLAUDE.mdå±‚çº§ç»“æ„

Claude Codeæ”¯æŒä¸‰å±‚é…ç½®ï¼Œä¼˜å…ˆçº§ä»ä½åˆ°é«˜ï¼š

1. **å…¨å±€é…ç½®** (`~/.claude/CLAUDE.md`)
   - é€‚ç”¨äºæ‰€æœ‰é¡¹ç›®
   - å­˜æ”¾ä¸ªäººåå¥½ã€é€šç”¨è§„åˆ™

2. **é¡¹ç›®é…ç½®** (`é¡¹ç›®æ ¹ç›®å½•/CLAUDE.md`)
   - å›¢é˜Ÿå…±äº«ï¼Œå…¥åº“ç®¡ç†
   - å­˜æ”¾é¡¹ç›®ç‰¹å®šè§„åˆ™ã€æŠ€æœ¯æ ˆè¯´æ˜

3. **å­ç›®å½•é…ç½®** (`å­ç›®å½•/CLAUDE.md`)
   - æ¨¡å—çº§åˆ«çš„ç‰¹æ®Šè§„åˆ™
   - ä¾‹å¦‚ï¼š`src/legacy/CLAUDE.md` å­˜æ”¾é—ç•™ä»£ç çš„ç‰¹æ®Šå¤„ç†è§„åˆ™

#### 1.3.2 é¡¹ç›®CLAUDE.mdæ¨¡æ¿

```markdown
# [é¡¹ç›®åç§°] - Claude Codeé…ç½®

## 1. é¡¹ç›®æ¦‚è§ˆ
- **é¡¹ç›®æè¿°**ï¼š[ä¸€å¥è¯æè¿°é¡¹ç›®ç”¨é€”]
- **æŠ€æœ¯æ ˆ**ï¼š[ä¸»è¦æŠ€æœ¯æ ˆåˆ—è¡¨]
- **å½“å‰é˜¶æ®µ**ï¼š[å¼€å‘/æµ‹è¯•/ç”Ÿäº§]

## 2. ä»£ç è§„èŒƒ
### é€šç”¨è§„åˆ™
- æ‰€æœ‰ä»£ç å¿…é¡»æœ‰ç±»å‹æ³¨è§£
- å‡½æ•°ä¸è¶…è¿‡50è¡Œï¼Œç±»ä¸è¶…è¿‡300è¡Œ
- ç¦æ­¢ä½¿ç”¨anyç±»å‹ï¼ˆç‰¹æ®Šæƒ…å†µéœ€æ³¨é‡Šè¯´æ˜ï¼‰

### å‘½åçº¦å®š
- æ–‡ä»¶åï¼škebab-caseï¼ˆå¦‚ user-service.tsï¼‰
- ç±»åï¼šPascalCaseï¼ˆå¦‚ UserServiceï¼‰
- å‡½æ•°/å˜é‡ï¼šcamelCaseï¼ˆå¦‚ getUserByIdï¼‰
- å¸¸é‡ï¼šUPPER_SNAKE_CASEï¼ˆå¦‚ MAX_RETRY_COUNTï¼‰

### æ–‡æ¡£è¦æ±‚
- æ‰€æœ‰å…¬å…±APIå¿…é¡»æœ‰JSDoc/TSDocæ³¨é‡Š
- å¤æ‚ä¸šåŠ¡é€»è¾‘å¿…é¡»æœ‰æµç¨‹è¯´æ˜
- ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œä»£ç ç”¨è‹±æ–‡

## 3. å®‰å…¨è§„åˆ™
### ç¦æ­¢è¡Œä¸º
- ç¦æ­¢åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
- ç¦æ­¢æäº¤.envæ–‡ä»¶åˆ°ä»“åº“
- ç¦æ­¢åœ¨æ—¥å¿—ä¸­è¾“å‡ºç”¨æˆ·éšç§æ•°æ®

### å¿…é¡»è¡Œä¸º
- æ‰€æœ‰è¾“å…¥å¿…é¡»éªŒè¯å’Œæ¶ˆæ¯’
- æ•°æ®åº“æŸ¥è¯¢å¿…é¡»ä½¿ç”¨å‚æ•°åŒ–
- APIå¿…é¡»æœ‰é€Ÿç‡é™åˆ¶

## 4. æµ‹è¯•è¦æ±‚
- æ–°åŠŸèƒ½å¿…é¡»æœ‰å•å…ƒæµ‹è¯•
- æ ¸å¿ƒé€»è¾‘æµ‹è¯•è¦†ç›–ç‡>80%
- é›†æˆæµ‹è¯•å¿…é¡»è¦†ç›–ä¸»è¦ç”¨æˆ·æµç¨‹

## 5. Gitè§„èŒƒ
### åˆ†æ”¯å‘½å
- feature/xxxï¼šæ–°åŠŸèƒ½
- fix/xxxï¼šbugä¿®å¤
- refactor/xxxï¼šé‡æ„
- docs/xxxï¼šæ–‡æ¡£æ›´æ–°

### æäº¤ä¿¡æ¯
æ ¼å¼ï¼š`<type>(<scope>): <description>`

ç±»å‹ï¼šfeatã€fixã€docsã€styleã€refactorã€testã€chore

## 6. é¡¹ç›®ç‰¹æ®Šè¯´æ˜
[é¡¹ç›®ç‰¹æœ‰çš„è§„åˆ™å’Œæ³¨æ„äº‹é¡¹]
```

#### 1.3.3 å…¨å±€CLAUDE.mdæ¨¡æ¿

```markdown
# å…¨å±€Claude Codeé…ç½®

## ä¸ªäººåå¥½
- ä½¿ç”¨ä¸­æ–‡å›å¤
- ä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- åå¥½ç®€æ´çš„ä»£ç é£æ ¼

## é€šç”¨å®‰å…¨è§„åˆ™
- æ°¸è¿œä¸è¦åœ¨ä»£ç ä¸­åŒ…å«çœŸå®çš„APIå¯†é’¥
- æ•æ„Ÿæ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤
- ä¸è‡ªåŠ¨æ‰§è¡Œrm -rfæˆ–DROP TABLEç­‰å±é™©å‘½ä»¤

## å·¥å…·åå¥½
- Gitæ“ä½œï¼šä¼˜å…ˆä½¿ç”¨å‘½ä»¤è¡Œè€ŒéGUI
- ä»£ç æ ¼å¼åŒ–ï¼šä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
- æµ‹è¯•ï¼šä¿®æ”¹ä»£ç åè‡ªåŠ¨è¿è¡Œç›¸å…³æµ‹è¯•
```

### 1.4 ä»£ç å®¡æŸ¥æµç¨‹

#### 1.4.1 AIè¾…åŠ©ä»£ç å®¡æŸ¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AIè¾…åŠ©ä»£ç å®¡æŸ¥æµç¨‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å¼€å‘è€…æäº¤PR                                                â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ CIè§¦å‘è‡ªåŠ¨   â”‚                                           â”‚
â”‚  â”‚ Claudeå®¡æŸ¥   â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Claude Codeå®¡æŸ¥å†…å®¹ï¼š                                â”‚   â”‚
â”‚  â”‚ 1. ä»£ç é£æ ¼æ˜¯å¦ç¬¦åˆCLAUDE.mdè§„èŒƒ                     â”‚   â”‚
â”‚  â”‚ 2. æ˜¯å¦æœ‰æ½œåœ¨çš„å®‰å…¨æ¼æ´                              â”‚   â”‚
â”‚  â”‚ 3. æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜                                    â”‚   â”‚
â”‚  â”‚ 4. æµ‹è¯•è¦†ç›–æ˜¯å¦å……åˆ†                                  â”‚   â”‚
â”‚  â”‚ 5. æ–‡æ¡£æ˜¯å¦å®Œæ•´                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  è‡ªåŠ¨æ·»åŠ å®¡æŸ¥è¯„è®ºåˆ°PR                                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  äººå·¥å®¡æŸ¥å‘˜å¤æ ¸                                              â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  åˆå¹¶æˆ–è¯·æ±‚ä¿®æ”¹                                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.4.2 ä»£ç å®¡æŸ¥Slashå‘½ä»¤

åˆ›å»º `.claude/commands/code-review.md`ï¼š

```markdown
name: code-review
description: AIä»£ç å®¡æŸ¥å‘½ä»¤

# ä»£ç å®¡æŸ¥

è¯·å¯¹ä»¥ä¸‹ä»£ç å˜æ›´è¿›è¡Œå®¡æŸ¥ï¼š

## å®¡æŸ¥ç»´åº¦
### 1. ä»£ç è´¨é‡
- ä»£ç æ˜¯å¦æ¸…æ™°å¯è¯»
- å‘½åæ˜¯å¦è¡¨æ„
- æ˜¯å¦æœ‰é‡å¤ä»£ç 
- å‡½æ•°/ç±»æ˜¯å¦è¿‡é•¿

### 2. å®‰å…¨æ€§
- è¾“å…¥éªŒè¯æ˜¯å¦å……åˆ†
- æ˜¯å¦æœ‰SQLæ³¨å…¥é£é™©
- æ˜¯å¦æœ‰XSSé£é™©
- æ•æ„Ÿæ•°æ®å¤„ç†æ˜¯å¦å®‰å…¨

### 3. æ€§èƒ½
- æ˜¯å¦æœ‰N+1æŸ¥è¯¢é—®é¢˜
- å¾ªç¯å†…æ˜¯å¦æœ‰ä¸å¿…è¦çš„è®¡ç®—
- æ˜¯å¦ä½¿ç”¨äº†é€‚å½“çš„æ•°æ®ç»“æ„

### 4. æµ‹è¯•
- æ˜¯å¦æœ‰å¯¹åº”çš„æµ‹è¯•
- æµ‹è¯•è¦†ç›–æ˜¯å¦å……åˆ†
- è¾¹ç•Œæƒ…å†µæ˜¯å¦è€ƒè™‘

### 5. æ–‡æ¡£
- å…¬å…±APIæ˜¯å¦æœ‰æ–‡æ¡£
- å¤æ‚é€»è¾‘æ˜¯å¦æœ‰æ³¨é‡Š
- READMEæ˜¯å¦éœ€è¦æ›´æ–°

## è¾“å‡ºæ ¼å¼
## å®¡æŸ¥ç»“æœ
### å¿…é¡»ä¿®æ”¹ (Blocking)
- [é—®é¢˜æè¿°]
  - ä½ç½®ï¼š[æ–‡ä»¶:è¡Œå·]
  - å»ºè®®ï¼š[ä¿®æ”¹å»ºè®®]

### å»ºè®®ä¿®æ”¹ (Suggestion)
- [é—®é¢˜æè¿°]
  - ä½ç½®ï¼š[æ–‡ä»¶:è¡Œå·]
  - å»ºè®®ï¼š[ä¿®æ”¹å»ºè®®]

### è¡¨æ‰¬ (Praise)
- [åšå¾—å¥½çš„åœ°æ–¹]

è¯·å¼€å§‹å®¡æŸ¥...
```

#### 1.4.3 å®¡æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | é€šè¿‡æ¡ä»¶ | ä¼˜å…ˆçº§ |
|--------|----------|--------|
| ä»£ç é£æ ¼ | ç¬¦åˆCLAUDE.mdè§„èŒƒ | P0 |
| å®‰å…¨æ£€æŸ¥ | æ— é«˜å±æ¼æ´ | P0 |
| æµ‹è¯•è¦†ç›– | æ–°ä»£ç æœ‰æµ‹è¯• | P1 |
| æ–‡æ¡£å®Œæ•´ | APIæœ‰æ³¨é‡Š | P1 |
| æ€§èƒ½è€ƒé‡ | æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜ | P2 |

### 1.5 å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

#### 1.5.1 é…ç½®åŒæ­¥ç­–ç•¥

**å…¥åº“é…ç½®ï¼ˆå›¢é˜Ÿå…±äº«ï¼‰**ï¼š
```gitignore
# .gitignore ä¸­ä¸è¦å¿½ç•¥è¿™äº›
!.claude/
!.claude/settings.json
!.claude/commands/
!.claude/hooks/
!.claude/skills/
!CLAUDE.md
!.mcp.json
```

**ä¸å…¥åº“é…ç½®ï¼ˆä¸ªäººæœ¬åœ°ï¼‰**ï¼š
```gitignore
# .gitignore ä¸­è¦å¿½ç•¥è¿™äº›
.claude/settings.local.json
.claude/*.local.*
.env
.env.local
```

#### 1.5.2 é…ç½®å†²çªè§£å†³

å½“å›¢é˜Ÿé…ç½®ä¸ä¸ªäººåå¥½å†²çªæ—¶ï¼Œä½¿ç”¨è¦†ç›–æœºåˆ¶ï¼š

```json
// .claude/settings.local.jsonï¼ˆä¸å…¥åº“ï¼‰
{
  "overrides": {
    "model": "claude-sonnet-4-5-20250929",
    "verbose": true
  }
}
```

#### 1.5.3 æ–°æˆå‘˜å…¥èŒæµç¨‹

```markdown
## Claude Codeæ–°æˆå‘˜å…¥èŒæ¸…å•

### ç¬¬1æ­¥ï¼šç¯å¢ƒå‡†å¤‡
- [ ] å®‰è£…Claude Code CLI
- [ ] é…ç½®å…¨å±€CLAUDE.md
- [ ] è·å–APIå¯†é’¥

### ç¬¬2æ­¥ï¼šé¡¹ç›®é…ç½®
- [ ] å…‹éš†é¡¹ç›®ä»“åº“
- [ ] è¿è¡Œ `claude` åˆå§‹åŒ–
- [ ] æ£€æŸ¥MCPæœåŠ¡å™¨æ˜¯å¦æ­£å¸¸

### ç¬¬3æ­¥ï¼šç†Ÿæ‚‰è§„èŒƒ
- [ ] é˜…è¯»é¡¹ç›®CLAUDE.md
- [ ] è¿è¡Œ `/help` æŸ¥çœ‹å¯ç”¨å‘½ä»¤
- [ ] å°è¯•è¿è¡Œä¸€æ¬¡ä»£ç å®¡æŸ¥

### ç¬¬4æ­¥ï¼šéªŒè¯é…ç½®
- [ ] è¿è¡Œæµ‹è¯•å‘½ä»¤ç¡®è®¤é…ç½®æ­£ç¡®
- [ ] æäº¤ä¸€ä¸ªæµ‹è¯•PRéªŒè¯CIæµç¨‹
```

---

## 2. CI/CDé›†æˆ

### 2.1 GitHub Actionsé›†æˆæ¦‚è¿°

Claude Codeå¯ä»¥æ·±åº¦é›†æˆåˆ°GitHub Actionsä¸­ï¼Œå®ç°ï¼š

- è‡ªåŠ¨ä»£ç å®¡æŸ¥
- PRè¯„è®ºäº¤äº’
- å®‰å…¨æ‰«æ
- æ–‡æ¡£ç”Ÿæˆ

#### 2.1.1 å®˜æ–¹Actionä»‹ç»

Anthropicæä¾›äº†å®˜æ–¹çš„GitHub Actionï¼š`anthropics/claude-code-action`

**ä¸»è¦åŠŸèƒ½**ï¼š
- åœ¨PRä¸Šè‡ªåŠ¨è¿è¡ŒClaude Codeå®¡æŸ¥
- å“åº”Issueè¯„è®ºä¸­çš„æŒ‡ä»¤
- æ‰§è¡Œè‡ªå®šä¹‰å‘½ä»¤

### 2.2 GitHub Actionsé…ç½®è¯¦è§£

#### 2.2.1 åŸºç¡€é…ç½®

åˆ›å»º `.github/workflows/claude-review.yml`ï¼š

```yaml
name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize, reopened]
  issue_comment:
    types: [created]

# æƒé™é…ç½®ï¼šæˆäºˆå¿…è¦çš„GitHubæƒé™
permissions:
  contents: read
  pull-requests: write
  issues: write

jobs:
  claude-review:
    # æ¡ä»¶ï¼šPRäº‹ä»¶ æˆ– Issueè¯„è®ºä¸­åŒ…å«@claude
    if: |
      github.event_name == 'pull_request' ||
      (github.event_name == 'issue_comment' &&
       contains(github.event.comment.body, '@claude'))

    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # è·å–å®Œæ•´å†å²ï¼Œç”¨äºdiffæ¯”è¾ƒ

      - name: Run Claude Code Review
        uses: anthropics/claude-code-action@v1
        with:
          # APIå¯†é’¥ï¼ˆå¿…é¡»åœ¨ä»“åº“Secretsä¸­é…ç½®ï¼‰
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}

          # å¯é€‰ï¼šæŒ‡å®šæ¨¡å‹
          model: "claude-sonnet-4-5-20250929"

          # å¯é€‰ï¼šæœ€å¤§tokenæ•°
          max_tokens: 4096

          # å¯é€‰ï¼šè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
          timeout: 300
```

#### 2.2.2 é«˜çº§é…ç½®ï¼šå¤šåœºæ™¯å·¥ä½œæµ

```yaml
name: Claude Code CI/CD Integration

on:
  pull_request:
    types: [opened, synchronize, reopened]
  issue_comment:
    types: [created]
  push:
    branches: [main, develop]

permissions:
  contents: read
  pull-requests: write
  issues: write
  actions: read

env:
  # å…±äº«ç¯å¢ƒå˜é‡
  CLAUDE_MODEL: claude-sonnet-4-5-20250929

jobs:
  # ========== PRä»£ç å®¡æŸ¥ ==========
  review:
    name: Code Review
    if: github.event_name == 'pull_request'
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v40

      - name: Claude Code Review
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          model: ${{ env.CLAUDE_MODEL }}
          prompt: |
            è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç å˜æ›´ï¼š

            å˜æ›´æ–‡ä»¶ï¼š${{ steps.changed-files.outputs.all_changed_files }}

            å®¡æŸ¥è¦ç‚¹ï¼š
            1. ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§
            2. æ½œåœ¨çš„å®‰å…¨é—®é¢˜
            3. æ€§èƒ½è€ƒé‡
            4. æµ‹è¯•è¦†ç›–å»ºè®®

            è¯·ä½¿ç”¨ä¸­æ–‡å›å¤ï¼Œæ ¼å¼åŒ–è¾“å‡ºå®¡æŸ¥ç»“æœã€‚

  # ========== å®‰å…¨æ‰«æ ==========
  security-scan:
    name: Security Scan
    if: github.event_name == 'pull_request'
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Claude Security Scan
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          model: ${{ env.CLAUDE_MODEL }}
          prompt: |
            è¯·å¯¹æœ¬æ¬¡PRè¿›è¡Œå®‰å…¨æ‰«æï¼Œæ£€æŸ¥ï¼š

            1. ç¡¬ç¼–ç çš„æ•æ„Ÿä¿¡æ¯ï¼ˆAPIå¯†é’¥ã€å¯†ç ç­‰ï¼‰
            2. SQLæ³¨å…¥æ¼æ´
            3. XSSæ¼æ´
            4. ä¸å®‰å…¨çš„ä¾èµ–
            5. æƒé™é…ç½®é—®é¢˜

            å¦‚æœå‘ç°é—®é¢˜ï¼Œè¯·æ ‡è®°ä¸º [SECURITY] å¹¶è¯´æ˜é£é™©ç­‰çº§ã€‚

  # ========== äº¤äº’å¼å‘½ä»¤å¤„ç† ==========
  interactive:
    name: Interactive Commands
    if: |
      github.event_name == 'issue_comment' &&
      contains(github.event.comment.body, '@claude')
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Process Claude Command
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          model: ${{ env.CLAUDE_MODEL }}
          # ä»è¯„è®ºä¸­æå–å‘½ä»¤
          prompt: ${{ github.event.comment.body }}

  # ========== æ–‡æ¡£ç”Ÿæˆï¼ˆpushåˆ°mainæ—¶ï¼‰ ==========
  docs:
    name: Generate Documentation
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Generate API Docs
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          model: ${{ env.CLAUDE_MODEL }}
          prompt: |
            è¯·æ‰«æsrc/ç›®å½•ä¸‹çš„ä»£ç ï¼Œç”ŸæˆAPIæ–‡æ¡£ã€‚

            æ–‡æ¡£æ ¼å¼è¦æ±‚ï¼š
            1. Markdownæ ¼å¼
            2. åŒ…å«å‡½æ•°ç­¾åã€å‚æ•°è¯´æ˜ã€è¿”å›å€¼
            3. åŒ…å«ä½¿ç”¨ç¤ºä¾‹

            è¾“å‡ºåˆ°docs/api/ç›®å½•ã€‚
```

#### 2.2.3 é…ç½®Secrets

åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹Secretsï¼š

| Secretåç§° | è¯´æ˜ | è·å–æ–¹å¼ |
|------------|------|----------|
| ANTHROPIC_API_KEY | Anthropic APIå¯†é’¥ | console.anthropic.com |
| GITHUB_TOKEN | GitHub Token | è‡ªåŠ¨æä¾›ï¼ˆé»˜è®¤ï¼‰ |

é…ç½®è·¯å¾„ï¼š`Settings > Secrets and variables > Actions > New repository secret`

### 2.3 /security-reviewå‘½ä»¤

#### 2.3.1 åˆ›å»ºå®‰å…¨å®¡æŸ¥å‘½ä»¤

åˆ›å»º `.claude/commands/security-review.md`ï¼š

```markdown
name: security-review
description: æ‰§è¡Œå®‰å…¨ä»£ç å®¡æŸ¥

# å®‰å…¨ä»£ç å®¡æŸ¥

## å®¡æŸ¥èŒƒå›´
å¯¹æŒ‡å®šæ–‡ä»¶æˆ–æ•´ä¸ªé¡¹ç›®è¿›è¡Œå®‰å…¨å®¡æŸ¥ã€‚

## æ£€æŸ¥æ¸…å•
### 1. è®¤è¯ä¸æˆæƒ
- [ ] å¯†ç å­˜å‚¨æ˜¯å¦ä½¿ç”¨å®‰å…¨å“ˆå¸Œï¼ˆbcrypt/argon2ï¼‰
- [ ] JWTå¯†é’¥æ˜¯å¦è¶³å¤Ÿå¤æ‚
- [ ] ä¼šè¯ç®¡ç†æ˜¯å¦å®‰å…¨
- [ ] æƒé™æ£€æŸ¥æ˜¯å¦å®Œæ•´

### 2. è¾“å…¥éªŒè¯
- [ ] æ‰€æœ‰ç”¨æˆ·è¾“å…¥æ˜¯å¦éªŒè¯
- [ ] æ˜¯å¦é˜²æ­¢SQLæ³¨å…¥
- [ ] æ˜¯å¦é˜²æ­¢XSSæ”»å‡»
- [ ] æ˜¯å¦é˜²æ­¢å‘½ä»¤æ³¨å…¥

### 3. æ•æ„Ÿæ•°æ®
- [ ] APIå¯†é’¥æ˜¯å¦ç¡¬ç¼–ç 
- [ ] æ•°æ®åº“å‡­æ®æ˜¯å¦å®‰å…¨å­˜å‚¨
- [ ] æ—¥å¿—æ˜¯å¦æ³„éœ²æ•æ„Ÿä¿¡æ¯
- [ ] é”™è¯¯ä¿¡æ¯æ˜¯å¦æ³„éœ²å†…éƒ¨ç»†èŠ‚

### 4. é…ç½®å®‰å…¨
- [ ] HTTPSæ˜¯å¦å¼ºåˆ¶
- [ ] CORSæ˜¯å¦æ­£ç¡®é…ç½®
- [ ] å®‰å…¨å¤´æ˜¯å¦è®¾ç½®
- [ ] Cookieæ˜¯å¦å®‰å…¨é…ç½®

### 5. ä¾èµ–å®‰å…¨
- [ ] æ˜¯å¦æœ‰å·²çŸ¥æ¼æ´çš„ä¾èµ–
- [ ] ä¾èµ–ç‰ˆæœ¬æ˜¯å¦åŠæ—¶æ›´æ–°
- [ ] æ˜¯å¦ä½¿ç”¨å¯ä¿¡çš„åŒ…æº

## è¾“å‡ºæ ¼å¼
# å®‰å…¨å®¡æŸ¥æŠ¥å‘Š

## æ¦‚è¦
- å®¡æŸ¥æ—¶é—´ï¼š[æ—¶é—´]
- å®¡æŸ¥èŒƒå›´ï¼š[èŒƒå›´]
- é£é™©ç­‰çº§ï¼š[é«˜/ä¸­/ä½]

## å‘ç°çš„é—®é¢˜
### é«˜å± (Critical)
**é—®é¢˜**ï¼š...
**ä½ç½®**ï¼š...
**æè¿°**ï¼š...
**ä¿®å¤å»ºè®®**ï¼š...

### ä¸­å± (Medium)
**é—®é¢˜**ï¼š...

### ä½å± (Low)
**é—®é¢˜**ï¼š...

## æœ€ä½³å®è·µå»ºè®®
[æ”¹è¿›å»ºè®®]

## æ‰§è¡Œ
è¯·å¼€å§‹å®‰å…¨å®¡æŸ¥...
```

#### 2.3.2 åœ¨CIä¸­é›†æˆå®‰å…¨å®¡æŸ¥

```yaml
# .github/workflows/security.yml
name: Security Review

on:
  pull_request:
    paths:
      - 'src/**'
      - 'package.json'
      - 'package-lock.json'

jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run Security Review
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          command: "/security-review"

      - name: Check for Critical Issues
        run: |
          # è§£æå®¡æŸ¥ç»“æœï¼Œå¦‚æœ‰é«˜å±é—®é¢˜åˆ™å¤±è´¥
          if grep -q "Critical" claude-review-output.md; then
            echo "::error::å‘ç°é«˜å±å®‰å…¨é—®é¢˜ï¼Œè¯·ä¿®å¤åé‡æ–°æäº¤"
            exit 1
          fi
```

### 2.4 /install-github-appå‘½ä»¤

#### 2.4.1 GitHub Appå®‰è£…æŒ‡å—

Claude Codeå¯ä»¥ä½œä¸ºGitHub Appå®‰è£…åˆ°ç»„ç»‡æˆ–ä»“åº“ï¼Œæä¾›æ›´æ·±åº¦çš„é›†æˆï¼š

```markdown
## GitHub Appå®‰è£…æ­¥éª¤

### æ­¥éª¤1ï¼šè®¿é—®å®‰è£…é¡µé¢
è¿è¡Œå‘½ä»¤ï¼š/install-github-app

æˆ–ç›´æ¥è®¿é—®ï¼šhttps://github.com/apps/claude-code

### æ­¥éª¤2ï¼šé€‰æ‹©å®‰è£…èŒƒå›´
- ç»„ç»‡çº§åˆ«ï¼šåº”ç”¨äºç»„ç»‡ä¸‹æ‰€æœ‰ä»“åº“
- ä»“åº“çº§åˆ«ï¼šåªåº”ç”¨äºé€‰å®šçš„ä»“åº“

### æ­¥éª¤3ï¼šé…ç½®æƒé™
æ¨èæƒé™é…ç½®ï¼š
- Contents: Read
- Pull requests: Read & Write
- Issues: Read & Write
- Metadata: Read

### æ­¥éª¤4ï¼šé…ç½®Webhookï¼ˆå¯é€‰ï¼‰
- Webhook URL: ä½ çš„æœåŠ¡å™¨åœ°å€
- Events: Pull request, Issue comment, Push
```

#### 2.4.2 App vs Actionå¯¹æ¯”

| ç‰¹æ€§ | GitHub Action | GitHub App |
|------|---------------|------------|
| å®‰è£…å¤æ‚åº¦ | ä½ï¼ˆé…ç½®æ–‡ä»¶ï¼‰ | ä¸­ï¼ˆOAuthæµç¨‹ï¼‰ |
| å®æ—¶å“åº” | å¦ï¼ˆéœ€è¦è§¦å‘ï¼‰ | æ˜¯ï¼ˆWebhookï¼‰ |
| è·¨ä»“åº“ | å¦ | æ˜¯ |
| æŒä¹…åŒ–çŠ¶æ€ | å¦ | æ˜¯ |
| é€‚ç”¨åœºæ™¯ | CI/CDé›†æˆ | æ·±åº¦å¹³å°é›†æˆ |

### 2.5 å®Œæ•´CI/CDæµæ°´çº¿ç¤ºä¾‹

#### 2.5.1 å¤šé˜¶æ®µæµæ°´çº¿

```yaml
# .github/workflows/full-pipeline.yml
name: Full CI/CD Pipeline with Claude

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  NODE_VERSION: '20'
  CLAUDE_MODEL: claude-sonnet-4-5-20250929

jobs:
  # ===== é˜¶æ®µ1ï¼šä»£ç æ£€æŸ¥ =====
  lint:
    name: Lint & Format
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
      - run: npm ci
      - run: npm run lint
      - run: npm run format:check

  # ===== é˜¶æ®µ2ï¼šå•å…ƒæµ‹è¯• =====
  test:
    name: Unit Tests
    runs-on: ubuntu-latest
    needs: lint
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
      - run: npm ci
      - run: npm test -- --coverage
      - uses: codecov/codecov-action@v3

  # ===== é˜¶æ®µ3ï¼šClaudeä»£ç å®¡æŸ¥ï¼ˆä»…PRï¼‰ =====
  claude-review:
    name: Claude Code Review
    if: github.event_name == 'pull_request'
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Get PR Diff
        id: diff
        run: |
          git diff origin/main...HEAD > pr_diff.txt
          echo "diff_size=$(wc -l < pr_diff.txt)" >> $GITHUB_OUTPUT

      - name: Claude Review
        if: steps.diff.outputs.diff_size > 0
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          model: ${{ env.CLAUDE_MODEL }}
          prompt: |
            è¯·å®¡æŸ¥è¿™ä¸ªPRçš„ä»£ç å˜æ›´ï¼š

            1. ä»£ç è´¨é‡è¯„ä¼°
            2. æ½œåœ¨bugåˆ†æ
            3. æ€§èƒ½å»ºè®®
            4. å®‰å…¨æ£€æŸ¥

            è¯·ç»™å‡ºå…·ä½“çš„æ”¹è¿›å»ºè®®ã€‚

  # ===== é˜¶æ®µ4ï¼šå®‰å…¨æ‰«æ =====
  security:
    name: Security Scan
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v4

      - name: Run npm audit
        run: npm audit --audit-level=high
        continue-on-error: true

      - name: Claude Security Scan
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          command: "/security-review"

  # ===== é˜¶æ®µ5ï¼šæ„å»º =====
  build:
    name: Build
    runs-on: ubuntu-latest
    needs: [test, security]
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
      - run: npm ci
      - run: npm run build
      - uses: actions/upload-artifact@v4
        with:
          name: build-output
          path: dist/

  # ===== é˜¶æ®µ6ï¼šéƒ¨ç½²åˆ°Stagingï¼ˆä»…developåˆ†æ”¯ï¼‰ =====
  deploy-staging:
    name: Deploy to Staging
    if: github.ref == 'refs/heads/develop'
    runs-on: ubuntu-latest
    needs: build
    environment: staging
    steps:
      - name: Download build
        uses: actions/download-artifact@v4
        with:
          name: build-output
      - name: Deploy to Staging
        run: |
          echo "Deploying to staging..."
          # éƒ¨ç½²è„šæœ¬

  # ===== é˜¶æ®µ7ï¼šéƒ¨ç½²åˆ°Productionï¼ˆä»…mainåˆ†æ”¯ï¼‰ =====
  deploy-production:
    name: Deploy to Production
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    needs: build
    environment: production
    steps:
      - name: Download build
        uses: actions/download-artifact@v4
        with:
          name: build-output
      - name: Deploy to Production
        run: |
          echo "Deploying to production..."
          # éƒ¨ç½²è„šæœ¬

      - name: Claude Deployment Report
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          prompt: |
            éƒ¨ç½²å·²å®Œæˆï¼Œè¯·ç”Ÿæˆéƒ¨ç½²æŠ¥å‘Šï¼š
            - ç‰ˆæœ¬ï¼š${{ github.sha }}
            - åˆ†æ”¯ï¼š${{ github.ref }}
            - è§¦å‘è€…ï¼š${{ github.actor }}
```

---

## 3. å®‰å…¨ä¸åˆè§„

### 3.1 æƒé™ç³»ç»Ÿè¯¦è§£

Claude Codeé‡‡ç”¨ä¸‰çº§æƒé™æ¨¡å‹ï¼šAllowï¼ˆå…è®¸ï¼‰ã€Askï¼ˆè¯¢é—®ï¼‰ã€Denyï¼ˆæ‹’ç»ï¼‰

#### 3.1.1 æƒé™çº§åˆ«è¯´æ˜

**Allowï¼ˆå…è®¸ï¼‰**ï¼š
- å·¥å…·å¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œæ— éœ€ç¡®è®¤
- é€‚ç”¨äºä½é£é™©ã€é¢‘ç¹ä½¿ç”¨çš„æ“ä½œ
- ç¤ºä¾‹ï¼šè¯»å–æ–‡ä»¶ã€æœç´¢ä»£ç 

**Askï¼ˆè¯¢é—®ï¼‰**ï¼š
- æ‰§è¡Œå‰éœ€è¦ç”¨æˆ·ç¡®è®¤
- é€‚ç”¨äºæœ‰ä¸€å®šé£é™©çš„æ“ä½œ
- ç¤ºä¾‹ï¼šä¿®æ”¹æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤

**Denyï¼ˆæ‹’ç»ï¼‰**ï¼š
- å®Œå…¨ç¦æ­¢æ‰§è¡Œ
- é€‚ç”¨äºé«˜é£é™©æˆ–è¿åæ”¿ç­–çš„æ“ä½œ
- ç¤ºä¾‹ï¼šè®¿é—®æ•æ„Ÿç›®å½•ã€æ‰§è¡Œå±é™©å‘½ä»¤

#### 3.1.2 æƒé™é…ç½®æ–‡ä»¶

```json
// .claude/settings.json
{
  "permissions": {
    // é»˜è®¤æƒé™çº§åˆ«
    "default": "ask",

    // å·¥å…·çº§åˆ«æƒé™
    "tools": {
      "Read": "allow",           // è¯»å–æ–‡ä»¶ï¼šç›´æ¥å…è®¸
      "Glob": "allow",           // æ–‡ä»¶æœç´¢ï¼šç›´æ¥å…è®¸
      "Grep": "allow",           // å†…å®¹æœç´¢ï¼šç›´æ¥å…è®¸
      "Edit": "ask",             // ç¼–è¾‘æ–‡ä»¶ï¼šéœ€è¦ç¡®è®¤
      "Write": "ask",            // å†™å…¥æ–‡ä»¶ï¼šéœ€è¦ç¡®è®¤
      "Bash": "ask",             // æ‰§è¡Œå‘½ä»¤ï¼šéœ€è¦ç¡®è®¤
      "WebFetch": "allow",       // ç½‘ç»œè¯·æ±‚ï¼šç›´æ¥å…è®¸
      "WebSearch": "allow"       // ç½‘ç»œæœç´¢ï¼šç›´æ¥å…è®¸
    },

    // è·¯å¾„çº§åˆ«æƒé™
    "paths": {
      // æ•æ„Ÿç›®å½•ï¼šæ‹’ç»è®¿é—®
      "deny": [
        "~/.ssh/",
        "~/.aws/",
        "~/.config/gcloud/",
        "**/secrets/",
        "**/.env*"
      ],

      // åªè¯»ç›®å½•
      "readonly": [
        "**/node_modules/",
        "**/vendor/",
        "**/.git/"
      ]
    },

    // å‘½ä»¤çº§åˆ«æƒé™
    "commands": {
      // å±é™©å‘½ä»¤ï¼šæ‹’ç»
      "deny": [
        "rm -rf /",
        "rm -rf ~",
        ":(){ :|:& };:",
        "DROP DATABASE",
        "DROP TABLE",
        "format",
        "mkfs"
      ],

      // éœ€è¦ç¡®è®¤çš„å‘½ä»¤æ¨¡å¼
      "ask": [
        "rm *",
        "git push --force",
        "git reset --hard",
        "npm publish",
        "docker rm",
        "kubectl delete"
      ]
    }
  }
}
```

#### 3.1.3 è¿è¡Œæ—¶æƒé™è¦†ç›–

```bash
# ä¸´æ—¶æ”¾å®½æƒé™ï¼ˆå•æ¬¡ä¼šè¯ï¼‰
claude --dangerously-skip-permissions

# ä¸´æ—¶ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
claude --permission-mode strict

# æŸ¥çœ‹å½“å‰æƒé™é…ç½®
claude config permissions show
```

### 3.2 allowedToolsç™½åå•

#### 3.2.1 ç™½åå•é…ç½®

```json
// .claude/settings.json
{
  "allowedTools": [
    // åŸºç¡€å·¥å…·
    "Read",
    "Glob",
    "Grep",

    // ç¼–è¾‘å·¥å…·ï¼ˆå¸¦è·¯å¾„é™åˆ¶ï¼‰
    "Edit(src/**)",
    "Write(src/**)",
    "Write(tests/**)",
    "Write(docs/**)",

    // Bashå‘½ä»¤ï¼ˆå¸¦å‘½ä»¤é™åˆ¶ï¼‰
    "Bash(npm *)",
    "Bash(node *)",
    "Bash(git status)",
    "Bash(git diff *)",
    "Bash(git add *)",
    "Bash(git commit *)",
    "Bash(npx *)",

    // é€šé…ç¬¦æƒé™æ”¯æŒ
    "Bash(*-h*)",        // å…è®¸æ‰€æœ‰-hå¸®åŠ©å‘½ä»¤
    "Bash(*--help)",     // å…è®¸æ‰€æœ‰--helpå‘½ä»¤

    // MCPå·¥å…·
    "mcp__context7__*",
    "mcp__exa__*"
  ],

  // æ˜ç¡®ç¦æ­¢çš„å·¥å…·
  "deniedTools": [
    "Bash(rm -rf *)",
    "Bash(sudo *)",
    "Bash(curl * | bash)",
    "Write(.env*)",
    "Write(**/secrets/*)"
  ]
}
```

#### 3.2.2 ç™½åå•æ¨¡å¼è¯¦è§£

**ç²¾ç¡®åŒ¹é…**ï¼š
```json
"Read"  // åªå…è®¸Readå·¥å…·
```

**é€šé…ç¬¦åŒ¹é…**ï¼š
```json
"Bash(npm *)"  // å…è®¸æ‰€æœ‰npmå‘½ä»¤
"Edit(src/**)"  // å…è®¸ç¼–è¾‘srcç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
```

**MCPå·¥å…·åŒ¹é…**ï¼š
```json
"mcp__context7__*"  // å…è®¸context7çš„æ‰€æœ‰åŠŸèƒ½
"mcp__exa__web_search_exa"  // åªå…è®¸exaçš„æœç´¢åŠŸèƒ½
```

#### 3.2.3 åˆ†ç¯å¢ƒé…ç½®

```json
// å¼€å‘ç¯å¢ƒï¼šå®½æ¾é…ç½®
// .claude/settings.development.json
{
  "allowedTools": [
    "*"  // å¼€å‘æ—¶å…è®¸æ‰€æœ‰å·¥å…·
  ],
  "deniedTools": [
    "Bash(rm -rf /)",
    "Bash(sudo *)"
  ]
}

// ç”Ÿäº§ç¯å¢ƒï¼šä¸¥æ ¼é…ç½®
// .claude/settings.production.json
{
  "allowedTools": [
    "Read",
    "Glob",
    "Grep",
    "Bash(npm test)",
    "Bash(npm run lint)"
  ]
}
```

### 3.3 MCPæœåŠ¡å™¨ä¿¡ä»»

#### 3.3.1 MCPä¿¡ä»»çº§åˆ«

```json
// .mcp.json
{
  "mcpServers": {
    // å®Œå…¨ä¿¡ä»»çš„å†…éƒ¨æœåŠ¡å™¨
    "internal-api": {
      "command": "node",
      "args": ["./mcp-servers/internal-api/index.js"],
      "trust": "full",
      "env": {
        "API_KEY": "${INTERNAL_API_KEY}"
      }
    },

    // éƒ¨åˆ†ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
    "context7": {
      "command": "npx",
      "args": ["-y", "@context7/mcp-server"],
      "trust": "limited",
      "allowedMethods": [
        "resolve_library_uri",
        "search_library_docs"
      ]
    },

    // ä¸ä¿¡ä»»ä½†éœ€è¦ä½¿ç”¨çš„æœåŠ¡å™¨
    "external-tool": {
      "command": "npx",
      "args": ["-y", "external-mcp-tool"],
      "trust": "none",
      "sandboxed": true,
      "timeout": 30000
    }
  },

  // å…¨å±€MCPå®‰å…¨è®¾ç½®
  "security": {
    "requireHttps": true,
    "maxConcurrentConnections": 5,
    "defaultTimeout": 60000
  }
}
```

#### 3.3.2 MCPå®‰å…¨æœ€ä½³å®è·µ

**ç¯å¢ƒå˜é‡éš”ç¦»**ï¼š
```json
{
  "mcpServers": {
    "my-server": {
      "command": "node",
      "args": ["server.js"],
      "env": {
        // ä½¿ç”¨ç¯å¢ƒå˜é‡å¼•ç”¨ï¼Œä¸ç¡¬ç¼–ç 
        "API_KEY": "${MCP_API_KEY}",
        "DB_URL": "${MCP_DB_URL}"
      }
    }
  }
}
```

**ç½‘ç»œéš”ç¦»**ï¼š
```json
{
  "mcpServers": {
    "isolated-server": {
      "command": "node",
      "args": ["server.js"],
      "network": {
        "allowedHosts": ["api.example.com"],
        "blockedHosts": ["*.internal.corp"],
        "allowedPorts": [443, 8080]
      }
    }
  }
}
```

**èµ„æºé™åˆ¶**ï¼š
```json
{
  "mcpServers": {
    "resource-limited": {
      "command": "node",
      "args": ["server.js"],
      "limits": {
        "memory": "512mb",
        "cpu": "50%",
        "timeout": 30000,
        "maxRequests": 100
      }
    }
  }
}
```

### 3.4 å®¡è®¡æ—¥å¿—

#### 3.4.1 å¯ç”¨å®¡è®¡æ—¥å¿—

```json
// .claude/settings.json
{
  "audit": {
    "enabled": true,
    "logPath": "./logs/claude-audit/",
    "retention": "90d",
    "logLevel": "detailed",

    // éœ€è¦è®°å½•çš„äº‹ä»¶ç±»å‹
    "events": [
      "tool_use",
      "file_access",
      "command_execution",
      "permission_change",
      "error"
    ],

    // æ•æ„Ÿæ“ä½œé¢å¤–è®°å½•
    "sensitivePatterns": [
      "**/secrets/**",
      "**/.env*",
      "**/credentials*"
    ]
  }
}
```

#### 3.4.2 å®¡è®¡æ—¥å¿—æ ¼å¼

```json
// logs/claude-audit/2025-01-15.json
{
  "entries": [
    {
      "timestamp": "2025-01-15T10:30:45.123Z",
      "sessionId": "sess_abc123",
      "userId": "user@company.com",
      "event": "tool_use",
      "tool": "Bash",
      "command": "npm test",
      "status": "success",
      "duration": 5432,
      "context": {
        "workingDir": "/project",
        "branch": "feature/auth"
      }
    },
    {
      "timestamp": "2025-01-15T10:31:00.456Z",
      "sessionId": "sess_abc123",
      "userId": "user@company.com",
      "event": "file_access",
      "tool": "Edit",
      "path": "src/auth/login.ts",
      "action": "modify",
      "status": "success",
      "diff": {
        "linesAdded": 15,
        "linesRemoved": 3
      }
    },
    {
      "timestamp": "2025-01-15T10:32:00.789Z",
      "sessionId": "sess_abc123",
      "userId": "user@company.com",
      "event": "permission_denied",
      "tool": "Read",
      "path": ".env.production",
      "reason": "Path in denied list",
      "status": "blocked"
    }
  ]
}
```

#### 3.4.3 å®¡è®¡æ—¥å¿—åˆ†æ

åˆ›å»ºå®¡è®¡åˆ†æè„šæœ¬ï¼š

```python
#!/usr/bin/env python3
# scripts/analyze-audit.py

import json
from pathlib import Path
from collections import Counter
from datetime import datetime, timedelta

def analyze_audit_logs(log_dir: str, days: int = 7):
    """åˆ†ææœ€è¿‘Nå¤©çš„å®¡è®¡æ—¥å¿—"""

    log_path = Path(log_dir)
    cutoff = datetime.now() - timedelta(days=days)

    stats = {
        "total_events": 0,
        "tool_usage": Counter(),
        "denied_access": [],
        "errors": [],
        "users": Counter(),
        "sensitive_access": []
    }

    for log_file in log_path.glob("*.json"):
        try:
            file_date = datetime.strptime(log_file.stem, "%Y-%m-%d")
            if file_date < cutoff:
                continue

            with open(log_file) as f:
                data = json.load(f)

            for entry in data.get("entries", []):
                stats["total_events"] += 1
                stats["tool_usage"][entry.get("tool", "unknown")] += 1
                stats["users"][entry.get("userId", "unknown")] += 1

                if entry.get("status") == "blocked":
                    stats["denied_access"].append(entry)

                if entry.get("event") == "error":
                    stats["errors"].append(entry)

        except Exception as e:
            print(f"Error processing {log_file}: {e}")

    return stats

def generate_report(stats: dict) -> str:
    """ç”Ÿæˆå®¡è®¡æŠ¥å‘Š"""

    report = []
    report.append("=" * 60)
    report.append("Claude Code å®¡è®¡æŠ¥å‘Š")
    report.append("=" * 60)
    report.append("")

    report.append(f"æ€»äº‹ä»¶æ•°ï¼š{stats['total_events']}")
    report.append("")

    report.append("å·¥å…·ä½¿ç”¨ç»Ÿè®¡ï¼š")
    for tool, count in stats["tool_usage"].most_common(10):
        report.append(f"  - {tool}: {count}æ¬¡")
    report.append("")

    report.append("ç”¨æˆ·æ´»åŠ¨ç»Ÿè®¡ï¼š")
    for user, count in stats["users"].most_common(10):
        report.append(f"  - {user}: {count}æ¬¡")
    report.append("")

    if stats["denied_access"]:
        report.append(f"æƒé™æ‹’ç»äº‹ä»¶ï¼š{len(stats['denied_access'])}æ¬¡")
        for entry in stats["denied_access"][:5]:
            report.append(f"  - {entry['timestamp']}: {entry.get('path', 'N/A')}")
    report.append("")

    if stats["errors"]:
        report.append(f"é”™è¯¯äº‹ä»¶ï¼š{len(stats['errors'])}æ¬¡")
        for entry in stats["errors"][:5]:
            report.append(f"  - {entry['timestamp']}: {entry.get('message', 'N/A')}")

    return "\n".join(report)

if __name__ == "__main__":
    import sys
    log_dir = sys.argv[1] if len(sys.argv) > 1 else "./logs/claude-audit/"
    stats = analyze_audit_logs(log_dir)
    print(generate_report(stats))
```

### 3.5 åˆè§„æ€§æ£€æŸ¥æ¸…å•

#### 3.5.1 æ•°æ®ä¿æŠ¤åˆè§„

```markdown
## GDPR/ä¸ªäººä¿¡æ¯ä¿æŠ¤åˆè§„æ£€æŸ¥

### æ•°æ®æ”¶é›†
- [ ] Claude Codeä¸æ”¶é›†ç”¨æˆ·ä¸ªäººæ•°æ®
- [ ] ä¼šè¯æ•°æ®ä¸æŒä¹…åŒ–åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
- [ ] APIå¯†é’¥é€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’ï¼Œä¸ç¡¬ç¼–ç 

### æ•°æ®å¤„ç†
- [ ] ä»£ç å®¡æŸ¥ä¸ä¸Šä¼ æºä»£ç åˆ°å…¬ç½‘
- [ ] æ•æ„Ÿæ–‡ä»¶åœ¨denyåˆ—è¡¨ä¸­
- [ ] å®¡è®¡æ—¥å¿—ä¸­è„±æ•å¤„ç†

### æ•°æ®å­˜å‚¨
- [ ] æœ¬åœ°æ—¥å¿—æœ‰è®¿é—®æ§åˆ¶
- [ ] æ—¥å¿—ä¿ç•™æœŸé™ç¬¦åˆæ”¿ç­–
- [ ] å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
```

#### 3.5.2 è®¿é—®æ§åˆ¶åˆè§„

```markdown
## è®¿é—®æ§åˆ¶æ£€æŸ¥æ¸…å•

### èº«ä»½è®¤è¯
- [ ] APIå¯†é’¥å®‰å…¨å­˜å‚¨
- [ ] å¯†é’¥å®šæœŸè½®æ¢
- [ ] ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒå¯†é’¥

### æƒé™ç®¡ç†
- [ ] æœ€å°æƒé™åŸåˆ™
- [ ] æƒé™é…ç½®å…¥åº“ç®¡ç†
- [ ] æƒé™å˜æ›´æœ‰å®¡æ‰¹æµç¨‹

### å®¡è®¡è¿½è¸ª
- [ ] æ‰€æœ‰æ•æ„Ÿæ“ä½œæœ‰æ—¥å¿—
- [ ] æ—¥å¿—é˜²ç¯¡æ”¹
- [ ] å¼‚å¸¸è¡Œä¸ºæœ‰å‘Šè­¦
```

---

## 4. æ€§èƒ½ä¼˜åŒ–

### 4.1 ä¸Šä¸‹æ–‡ç®¡ç†

#### 4.1.1 ä¸Šä¸‹æ–‡çª—å£ç†è§£

Claude Codeä½¿ç”¨çš„æ¨¡å‹æœ‰ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼Œç†è§£å¹¶ä¼˜åŒ–ä¸Šä¸‹æ–‡ä½¿ç”¨æ˜¯æå‡æ€§èƒ½çš„å…³é”®ï¼š

**ä¸Šä¸‹æ–‡ç»„æˆ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸Šä¸‹æ–‡çª—å£æ„æˆ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  ç³»ç»Ÿæç¤ºè¯      â”‚  ~2,000 tokens                       â”‚
â”‚  â”‚  (System Prompt) â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  CLAUDE.md      â”‚  ~1,000-5,000 tokens                  â”‚
â”‚  â”‚  é¡¹ç›®é…ç½®        â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  å¯¹è¯å†å²       â”‚  åŠ¨æ€å¢é•¿                               â”‚
â”‚  â”‚  (History)      â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  å·¥å…·ç»“æœ       â”‚  åŠ¨æ€å¢é•¿                               â”‚
â”‚  â”‚  (Tool Results) â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  å½“å‰æ¶ˆæ¯       â”‚  ç”¨æˆ·è¾“å…¥                               â”‚
â”‚  â”‚  (Current)      â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                             â”‚
â”‚  æ€»è®¡ï¼šæœ€å¤§ 200,000 tokensï¼ˆClaude 3.5 Sonnetï¼‰             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1.2 ä¸Šä¸‹æ–‡ä¼˜åŒ–ç­–ç•¥

**ç­–ç•¥1ï¼šç²¾ç®€CLAUDE.md**

```markdown
# ä¼˜åŒ–å‰ï¼ˆå†—é•¿ï¼‰
## ä»£ç è§„èŒƒ
æˆ‘ä»¬çš„å›¢é˜Ÿä½¿ç”¨ä»¥ä¸‹ä»£ç è§„èŒƒã€‚é¦–å…ˆï¼Œæ‰€æœ‰ä»£ç å¿…é¡»ä½¿ç”¨TypeScriptç¼–å†™ã€‚
å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦æ±‚æ‰€æœ‰å‡½æ•°éƒ½æœ‰JSDocæ³¨é‡Šã€‚å¦å¤–ï¼Œå˜é‡å‘½åå¿…é¡»éµå¾ª
camelCaseè§„èŒƒã€‚è¿˜æœ‰ï¼Œç±»åå¿…é¡»ä½¿ç”¨PascalCase...
ï¼ˆç»§ç»­500å­—ï¼‰

# ä¼˜åŒ–åï¼ˆç²¾ç®€ï¼‰
## ä»£ç è§„èŒƒ
- è¯­è¨€ï¼šTypeScript
- æ³¨é‡Šï¼šJSDocå¿…éœ€
- å‘½åï¼šå˜é‡camelCaseï¼Œç±»PascalCase
- è¡Œæ•°ï¼šå‡½æ•°<50è¡Œï¼Œç±»<300è¡Œ
```

**ç­–ç•¥2ï¼šä½¿ç”¨æ–‡ä»¶å¼•ç”¨è€Œéå†…è”**

```markdown
# ä¸æ¨èï¼šåœ¨CLAUDE.mdä¸­å†…è”å¤§é‡å†…å®¹
## APIæ–‡æ¡£
{å¤§é‡JSONå†…å®¹...}

# æ¨èï¼šå¼•ç”¨å¤–éƒ¨æ–‡ä»¶
## APIæ–‡æ¡£
è¯¦è§ `docs/api-reference.md`
```

**ç­–ç•¥3ï¼šåˆ†å±‚é…ç½®**

```
é¡¹ç›®æ ¹ç›®å½•/CLAUDE.md        # æ ¸å¿ƒè§„åˆ™ï¼ˆ<1000 tokensï¼‰
â”œâ”€â”€ src/CLAUDE.md          # æºç è§„åˆ™ï¼ˆ<500 tokensï¼‰
â”œâ”€â”€ tests/CLAUDE.md        # æµ‹è¯•è§„åˆ™ï¼ˆ<500 tokensï¼‰
â””â”€â”€ docs/CLAUDE.md         # æ–‡æ¡£è§„åˆ™ï¼ˆ<300 tokensï¼‰
```

#### 4.1.3 å¯¹è¯ç®¡ç†

**å®šæœŸæ¸…ç†å¯¹è¯**ï¼š
```bash
# å½“å¯¹è¯è¿‡é•¿æ—¶ï¼Œä½¿ç”¨/clearæ¸…ç†
/clear

# æˆ–åˆ›å»ºæ–°ä¼šè¯
claude --new-session

# è·¨è®¾å¤‡ç»§ç»­ä¼šè¯
/teleport  # å°†å½“å‰ä¼šè¯ä¼ é€åˆ° claude.ai/code
```

**åˆ†è§£å¤§ä»»åŠ¡**ï¼š
```markdown
# ä¸æ¨èï¼šä¸€æ¬¡æ€§å¤§ä»»åŠ¡
"é‡æ„æ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ¨¡å—ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ¨¡å—ã€è®¢å•æ¨¡å—ã€æ”¯ä»˜æ¨¡å—..."

# æ¨èï¼šåˆ†æ­¥éª¤å°ä»»åŠ¡
1. "å…ˆåˆ†æç”¨æˆ·æ¨¡å—çš„å½“å‰ç»“æ„"
2. "åŸºäºåˆ†æç»“æœï¼Œæå‡ºé‡æ„æ–¹æ¡ˆ"
3. "æ‰§è¡Œç”¨æˆ·æ¨¡å—é‡æ„"
4. "éªŒè¯ç”¨æˆ·æ¨¡å—é‡æ„ç»“æœ"
5. "ç»§ç»­å¤„ç†è®¢å•æ¨¡å—..."
```

**ğŸ’¡ Shift+Enteræ¢è¡Œ**
- åœ¨å¯¹è¯æ¡†ä¸­æŒ‰ `Shift+Enter` å¯ä»¥æ¢è¡Œè€Œä¸å‘é€æ¶ˆæ¯
- é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨
- é€‚åˆè¾“å…¥å¤šè¡ŒæŒ‡ä»¤æˆ–å¤æ‚æç¤ºè¯

### 4.2 --verboseè°ƒè¯•

#### 4.2.1 å¯ç”¨è¯¦ç»†æ—¥å¿—

```bash
# å¯ç”¨verboseæ¨¡å¼
claude --verbose

# æˆ–åœ¨é…ç½®ä¸­è®¾ç½®
# .claude/settings.json
{
  "verbose": true,
  "logLevel": "debug"
}
```

#### 4.2.2 verboseè¾“å‡ºè§£è¯»

```
[DEBUG] 2025-01-15 10:30:45.123 Session started: sess_abc123
[DEBUG] 2025-01-15 10:30:45.125 Loading CLAUDE.md from /project/CLAUDE.md
[DEBUG] 2025-01-15 10:30:45.130 CLAUDE.md tokens: 1,234
[DEBUG] 2025-01-15 10:30:45.135 Loading .claude/settings.json
[DEBUG] 2025-01-15 10:30:45.140 MCP servers: 3 configured
[DEBUG] 2025-01-15 10:30:45.200 MCP server 'context7' connected
[DEBUG] 2025-01-15 10:30:45.300 MCP server 'exa' connected
[DEBUG] 2025-01-15 10:30:45.400 MCP server 'task-master' connected

[INFO] User message received: "å¸®æˆ‘åˆ†æsrc/authç›®å½•çš„ä»£ç ç»“æ„"
[DEBUG] 2025-01-15 10:30:46.000 Context size: 5,432 tokens
[DEBUG] 2025-01-15 10:30:46.001 Available context: 194,568 tokens
[DEBUG] 2025-01-15 10:30:46.002 Model: claude-sonnet-4-5-20250929

[DEBUG] 2025-01-15 10:30:46.100 Tool call: Glob
[DEBUG] 2025-01-15 10:30:46.101   Pattern: src/auth/**/*
[DEBUG] 2025-01-15 10:30:46.150   Result: 12 files found
[DEBUG] 2025-01-15 10:30:46.151   Tokens used: 234

[DEBUG] 2025-01-15 10:30:46.200 Tool call: Read
[DEBUG] 2025-01-15 10:30:46.201   Path: src/auth/index.ts
[DEBUG] 2025-01-15 10:30:46.250   Result: 156 lines, 2,345 tokens

[DEBUG] 2025-01-15 10:30:47.000 API request sent
[DEBUG] 2025-01-15 10:30:47.001   Input tokens: 8,011
[DEBUG] 2025-01-15 10:30:47.002   Max output tokens: 4,096

[DEBUG] 2025-01-15 10:30:52.000 API response received
[DEBUG] 2025-01-15 10:30:52.001   Output tokens: 1,234
[DEBUG] 2025-01-15 10:30:52.002   Latency: 5,000ms
[DEBUG] 2025-01-15 10:30:52.003   Cost: $0.0234
```

#### 4.2.3 æ€§èƒ½ç“¶é¢ˆå®šä½

**å¸¸è§ç“¶é¢ˆåŠè§£å†³æ–¹æ¡ˆ**ï¼š

| ç—‡çŠ¶ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| å“åº”æ…¢ | ä¸Šä¸‹æ–‡è¿‡å¤§ | æ¸…ç†å¯¹è¯ï¼Œç²¾ç®€CLAUDE.md |
| å·¥å…·è°ƒç”¨å¤±è´¥ | MCPæœåŠ¡å™¨é—®é¢˜ | æ£€æŸ¥MCPé…ç½®å’Œç½‘ç»œ |
| é¢‘ç¹tokenè¶…é™ | å•æ¬¡è¯·æ±‚è¿‡å¤§ | åˆ†è§£ä»»åŠ¡ |
| æˆæœ¬è¿‡é«˜ | æ— æ•ˆè°ƒç”¨å¤š | ä¼˜åŒ–æç¤ºè¯ï¼Œå‡å°‘è¿­ä»£ |

### 4.3 æˆæœ¬æ§åˆ¶

#### 4.3.1 æˆæœ¬è®¡ç®—å…¬å¼

```
å•æ¬¡å¯¹è¯æˆæœ¬ = (è¾“å…¥tokens / 1M * è¾“å…¥ä»·æ ¼) + (è¾“å‡ºtokens / 1M * è¾“å‡ºä»·æ ¼)

ç¤ºä¾‹ï¼ˆClaude 3.5 Sonnetï¼‰ï¼š
- è¾“å…¥ï¼š$3/ç™¾ä¸‡tokens
- è¾“å‡ºï¼š$15/ç™¾ä¸‡tokens
- ä¸€æ¬¡10Kè¾“å…¥+2Kè¾“å‡ºï¼š(10,000/1M * 3) + (2,000/1M * 15) = $0.03 + $0.03 = $0.06
```

#### 4.3.2 æˆæœ¬ä¼˜åŒ–ç­–ç•¥

**ç­–ç•¥1ï¼šé€‰æ‹©åˆé€‚çš„æ¨¡å‹**

| ä»»åŠ¡ç±»å‹ | æ¨èæ¨¡å‹ | åŸå›  |
|----------|----------|------|
| ç®€å•ä»£ç ç”Ÿæˆ | Claude 3.5 Haiku | æˆæœ¬ä½ï¼Œé€Ÿåº¦å¿« |
| ä»£ç å®¡æŸ¥ | Claude 3.5 Sonnet | å¹³è¡¡è´¨é‡å’Œæˆæœ¬ |
| æ¶æ„è®¾è®¡ | Claude 3.5 Opus | å¤æ‚æ¨ç†èƒ½åŠ›å¼º |

**ç­–ç•¥2ï¼šæ‰¹é‡å¤„ç†**

```bash
# ä¸æ¨èï¼šé€ä¸ªæ–‡ä»¶å¤„ç†
claude "æ£€æŸ¥src/a.tsçš„ä»£ç è´¨é‡"
claude "æ£€æŸ¥src/b.tsçš„ä»£ç è´¨é‡"
claude "æ£€æŸ¥src/c.tsçš„ä»£ç è´¨é‡"

# æ¨èï¼šæ‰¹é‡å¤„ç†
claude "æ£€æŸ¥src/ç›®å½•ä¸‹æ‰€æœ‰.tsæ–‡ä»¶çš„ä»£ç è´¨é‡ï¼Œç”Ÿæˆæ±‡æ€»æŠ¥å‘Š"
```

**ç­–ç•¥3ï¼šç¼“å­˜å¤ç”¨**

```json
// .claude/settings.json
{
  "cache": {
    "enabled": true,
    "ttl": 3600,
    "maxSize": "100mb"
  }
}
```

#### 4.3.3 æˆæœ¬ç›‘æ§

åˆ›å»ºæˆæœ¬ç›‘æ§è„šæœ¬ï¼š

```python
#!/usr/bin/env python3
# scripts/monitor-cost.py

import json
from pathlib import Path
from datetime import datetime, timedelta

# ä»·æ ¼é…ç½®ï¼ˆç¾å…ƒ/ç™¾ä¸‡tokensï¼‰
PRICING = {
    "claude-3-5-sonnet": {"input": 3.0, "output": 15.0},
    "claude-3-5-haiku": {"input": 0.25, "output": 1.25},
    "claude-3-opus": {"input": 15.0, "output": 75.0}
}

def calculate_daily_cost(log_dir: str, date: str = None):
    """è®¡ç®—æŒ‡å®šæ—¥æœŸçš„ä½¿ç”¨æˆæœ¬"""

    if date is None:
        date = datetime.now().strftime("%Y-%m-%d")

    log_file = Path(log_dir) / f"{date}.json"

    if not log_file.exists():
        return {"date": date, "total_cost": 0, "details": []}

    with open(log_file) as f:
        data = json.load(f)

    total_cost = 0
    details = []

    for entry in data.get("entries", []):
        if "tokens" not in entry:
            continue

        model = entry.get("model", "claude-3-5-sonnet")
        prices = PRICING.get(model, PRICING["claude-3-5-sonnet"])

        input_tokens = entry["tokens"].get("input", 0)
        output_tokens = entry["tokens"].get("output", 0)

        cost = (input_tokens / 1_000_000 * prices["input"]) + \
               (output_tokens / 1_000_000 * prices["output"])

        total_cost += cost
        details.append({
            "time": entry.get("timestamp"),
            "model": model,
            "input_tokens": input_tokens,
            "output_tokens": output_tokens,
            "cost": cost
        })

    return {
        "date": date,
        "total_cost": total_cost,
        "details": details
    }

if __name__ == "__main__":
    import sys
    log_dir = sys.argv[1] if len(sys.argv) > 1 else "./logs/claude-audit/"
    today = calculate_daily_cost(log_dir)
    print(f"ä»Šæ—¥æˆæœ¬ï¼š${today['total_cost']:.2f}")
```

#### 4.3.4 æˆæœ¬é¢„è­¦é…ç½®

```json
// .claude/settings.json
{
  "costControl": {
    "dailyLimit": 10.0,
    "monthlyLimit": 200.0,
    "alertThreshold": 0.8,
    "alertEmail": "admin@company.com",
    "actions": {
      "onDailyLimitReached": "warn",
      "onMonthlyLimitReached": "block"
    }
  }
}
```

### 4.4 æ€§èƒ½åŸºå‡†æµ‹è¯•

#### 4.4.1 å“åº”æ—¶é—´åŸºå‡†

| æ“ä½œç±»å‹ | é¢„æœŸå“åº”æ—¶é—´ | å®é™…ç›‘æ§é˜ˆå€¼ |
|----------|--------------|--------------|
| ç®€å•é—®ç­” | <2ç§’ | 5ç§’å‘Šè­¦ |
| ä»£ç ç”Ÿæˆï¼ˆ<100è¡Œï¼‰ | <5ç§’ | 10ç§’å‘Šè­¦ |
| ä»£ç å®¡æŸ¥ï¼ˆ<500è¡Œï¼‰ | <10ç§’ | 20ç§’å‘Šè­¦ |
| å¤§æ–‡ä»¶åˆ†æ | <30ç§’ | 60ç§’å‘Šè­¦ |

#### 4.4.2 ååé‡åŸºå‡†

| æŒ‡æ ‡ | åŸºå‡†å€¼ | è¯´æ˜ |
|------|--------|------|
| æ—¥å‡è¯·æ±‚æ•° | <500 | å•ç”¨æˆ· |
| æ—¥å‡tokenæ¶ˆè€— | <100K | å•ç”¨æˆ· |
| å¹¶å‘ä¼šè¯ | <5 | å•ç”¨æˆ· |

---

## 5. ç»¼åˆç»ƒä¹ 

### 5.1 ç»ƒä¹ 1ï¼šé…ç½®ä¼ä¸šçº§é¡¹ç›®ç»“æ„

**ç›®æ ‡**ï¼šä¸ºä¸€ä¸ªæ–°çš„ä¼ä¸šé¡¹ç›®é…ç½®å®Œæ•´çš„Claude Codeç¯å¢ƒ

**è¦æ±‚**ï¼š
1. åˆ›å»ºæ ‡å‡†ç›®å½•ç»“æ„
2. ç¼–å†™é¡¹ç›®CLAUDE.md
3. é…ç½®æƒé™ç™½åå•
4. è®¾ç½®MCPæœåŠ¡å™¨

**æ­¥éª¤æç¤º**ï¼š

```bash
# 1. åˆ›å»ºç›®å½•ç»“æ„
mkdir -p .claude/{commands,hooks,skills}
mkdir -p docs/ai-context
touch CLAUDE.md .mcp.json

# 2. ç¼–å†™é…ç½®æ–‡ä»¶
# å‚è€ƒæœ¬ç« æ¨¡æ¿

# 3. éªŒè¯é…ç½®
claude config validate
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ç›®å½•ç»“æ„ç¬¦åˆæ ‡å‡†
- [ ] CLAUDE.mdåŒ…å«æ‰€æœ‰å¿…è¦ç« èŠ‚
- [ ] æƒé™é…ç½®åˆç†
- [ ] MCPæœåŠ¡å™¨å¯æ­£å¸¸è¿æ¥

### 5.2 ç»ƒä¹ 2ï¼šé…ç½®CI/CDæµæ°´çº¿

**ç›®æ ‡**ï¼šä¸ºGitHubä»“åº“é…ç½®Claude Codeè‡ªåŠ¨å®¡æŸ¥

**è¦æ±‚**ï¼š
1. åˆ›å»ºGitHub Actionså·¥ä½œæµ
2. é…ç½®PRè‡ªåŠ¨å®¡æŸ¥
3. é…ç½®å®‰å…¨æ‰«æ
4. è®¾ç½®è¯„è®ºäº¤äº’

**æ­¥éª¤æç¤º**ï¼š

```yaml
# .github/workflows/claude.yml
name: Claude CI
on:
  pull_request:
    types: [opened, synchronize]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      # å‚è€ƒæœ¬ç« é…ç½®ç¤ºä¾‹
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] PRåˆ›å»ºæ—¶è‡ªåŠ¨è§¦å‘å®¡æŸ¥
- [ ] å®¡æŸ¥ç»“æœä½œä¸ºè¯„è®ºå‘å¸ƒ
- [ ] é«˜å±é—®é¢˜é˜»æ­¢åˆå¹¶
- [ ] æ”¯æŒ@claudeäº¤äº’

### 5.3 ç»ƒä¹ 3ï¼šå®‰å…¨åŠ å›º

**ç›®æ ‡**ï¼šä¸ºç°æœ‰é¡¹ç›®è¿›è¡Œå®‰å…¨åŠ å›º

**è¦æ±‚**ï¼š
1. å®¡è®¡å½“å‰æƒé™é…ç½®
2. è¯†åˆ«å¹¶ä¿®å¤å®‰å…¨é£é™©
3. é…ç½®å®¡è®¡æ—¥å¿—
4. åˆ›å»ºå®‰å…¨æ£€æŸ¥æ¸…å•

**æ­¥éª¤æç¤º**ï¼š

```bash
# 1. æ£€æŸ¥å½“å‰æƒé™
claude config permissions show

# 2. è¯†åˆ«é£é™©é…ç½®
# æ£€æŸ¥allowedToolsæ˜¯å¦è¿‡äºå®½æ¾
# æ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿè·¯å¾„æš´éœ²

# 3. é…ç½®å®¡è®¡æ—¥å¿—
# å‚è€ƒæœ¬ç« å®¡è®¡é…ç½®

# 4. è¿è¡Œå®‰å…¨æ‰«æ
/security-review
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ•æ„Ÿç›®å½•åœ¨denyåˆ—è¡¨ä¸­
- [ ] å±é™©å‘½ä»¤è¢«ç¦æ­¢
- [ ] å®¡è®¡æ—¥å¿—æ­£å¸¸è®°å½•
- [ ] å®‰å…¨æ‰«ææ— é«˜å±é—®é¢˜

### 5.4 ç»ƒä¹ 4ï¼šæ€§èƒ½ä¼˜åŒ–

**ç›®æ ‡**ï¼šä¼˜åŒ–ç°æœ‰é¡¹ç›®çš„Claude Codeä½¿ç”¨æ€§èƒ½

**è¦æ±‚**ï¼š
1. åˆ†æå½“å‰æ€§èƒ½ç“¶é¢ˆ
2. ä¼˜åŒ–ä¸Šä¸‹æ–‡ä½¿ç”¨
3. é…ç½®æˆæœ¬ç›‘æ§
4. å»ºç«‹æ€§èƒ½åŸºå‡†

**æ­¥éª¤æç¤º**ï¼š

```bash
# 1. å¯ç”¨verboseæ¨¡å¼åˆ†æ
claude --verbose

# 2. æ£€æŸ¥CLAUDE.mdå¤§å°
wc -c CLAUDE.md
# ç›®æ ‡ï¼š<5000å­—ç¬¦

# 3. æ£€æŸ¥å¯¹è¯ä¸Šä¸‹æ–‡
# å…³æ³¨context sizeæ—¥å¿—

# 4. é…ç½®æˆæœ¬ç›‘æ§
# å‚è€ƒæœ¬ç« ç›‘æ§è„šæœ¬
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] CLAUDE.mdç²¾ç®€åˆ°<5000å­—ç¬¦
- [ ] å¹³å‡å“åº”æ—¶é—´<5ç§’
- [ ] æ—¥æˆæœ¬<$10
- [ ] æœ‰æˆæœ¬ç›‘æ§å‘Šè­¦

### 5.5 ç»¼åˆå®æˆ˜ï¼šä»é›¶æ­å»ºä¼ä¸šçº§ç¯å¢ƒ

**åœºæ™¯**ï¼šä½ æ˜¯ä¸€å®¶åˆ›ä¸šå…¬å¸çš„æŠ€æœ¯è´Ÿè´£äººï¼Œéœ€è¦ä¸ºå›¢é˜Ÿï¼ˆ10äººï¼‰æ­å»ºClaude Codeä¼ä¸šçº§å¼€å‘ç¯å¢ƒã€‚

**ä»»åŠ¡æ¸…å•**ï¼š

```markdown
## ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¾æ–½ï¼ˆç¬¬1å‘¨ï¼‰

### ä»»åŠ¡1.1ï¼šæ ‡å‡†åŒ–é¡¹ç›®æ¨¡æ¿
- [ ] åˆ›å»ºé¡¹ç›®æ¨¡æ¿ä»“åº“
- [ ] åŒ…å«æ ‡å‡†ç›®å½•ç»“æ„
- [ ] åŒ…å«åŸºç¡€CLAUDE.md
- [ ] åŒ…å«.claude/é…ç½®ç›®å½•

### ä»»åŠ¡1.2ï¼šé…ç½®ç®¡ç†
- [ ] å»ºç«‹å…¨å±€é…ç½®è§„èŒƒ
- [ ] å»ºç«‹é¡¹ç›®é…ç½®æ¨¡æ¿
- [ ] é…ç½®Gité’©å­åŒæ­¥é…ç½®

## ç¬¬äºŒé˜¶æ®µï¼šCI/CDé›†æˆï¼ˆç¬¬2å‘¨ï¼‰

### ä»»åŠ¡2.1ï¼šGitHub Actions
- [ ] é…ç½®è‡ªåŠ¨ä»£ç å®¡æŸ¥
- [ ] é…ç½®å®‰å…¨æ‰«æ
- [ ] é…ç½®æ–‡æ¡£ç”Ÿæˆ

### ä»»åŠ¡2.2ï¼šå·¥ä½œæµä¼˜åŒ–
- [ ] åˆ›å»ºå›¢é˜Ÿå…±äº«å‘½ä»¤
- [ ] é…ç½®è‡ªåŠ¨åŒ–é’©å­
- [ ] å»ºç«‹å®¡æŸ¥è§„èŒƒ

## ç¬¬ä¸‰é˜¶æ®µï¼šå®‰å…¨åˆè§„ï¼ˆç¬¬3å‘¨ï¼‰

### ä»»åŠ¡3.1ï¼šæƒé™ç®¡ç†
- [ ] å®šä¹‰æƒé™ç­–ç•¥
- [ ] é…ç½®åˆ†ç¯å¢ƒæƒé™
- [ ] é…ç½®å®¡è®¡æ—¥å¿—

### ä»»åŠ¡3.2ï¼šåˆè§„æ£€æŸ¥
- [ ] åˆ›å»ºåˆè§„æ£€æŸ¥æ¸…å•
- [ ] é…ç½®è‡ªåŠ¨åˆè§„æ‰«æ
- [ ] å»ºç«‹å¼‚å¸¸å‘Šè­¦

## ç¬¬å››é˜¶æ®µï¼šç›‘æ§ä¼˜åŒ–ï¼ˆç¬¬4å‘¨ï¼‰

### ä»»åŠ¡4.1ï¼šæˆæœ¬ç®¡æ§
- [ ] é…ç½®æˆæœ¬ç›‘æ§
- [ ] è®¾ç½®æˆæœ¬é¢„è­¦
- [ ] å»ºç«‹æˆæœ¬åˆ†ææŠ¥å‘Š

### ä»»åŠ¡4.2ï¼šæ€§èƒ½ä¼˜åŒ–
- [ ] å»ºç«‹æ€§èƒ½åŸºå‡†
- [ ] ä¼˜åŒ–ä¸Šä¸‹æ–‡ä½¿ç”¨
- [ ] é…ç½®æ€§èƒ½ç›‘æ§
```

**äº¤ä»˜ç‰©**ï¼š
1. é¡¹ç›®æ¨¡æ¿ä»“åº“
2. CI/CDé…ç½®æ–‡ä»¶
3. å®‰å…¨ç­–ç•¥æ–‡æ¡£
4. ç›‘æ§ä»ªè¡¨ç›˜
5. å›¢é˜ŸåŸ¹è®­ææ–™

---

## æ€»ç»“

æœ¬ç« ä»‹ç»äº†Claude Codeåœ¨ä¼ä¸šç¯å¢ƒä¸­çš„æœ€ä½³å®è·µï¼Œæ¶µç›–ï¼š

1. **å›¢é˜Ÿåä½œè§„èŒƒ**ï¼šæ ‡å‡†åŒ–é¡¹ç›®ç»“æ„ã€CLAUDE.mdè§„èŒƒã€ä»£ç å®¡æŸ¥æµç¨‹
2. **CI/CDé›†æˆ**ï¼šGitHub Actionsé…ç½®ã€å®‰å…¨å®¡æŸ¥ã€è‡ªåŠ¨åŒ–æµæ°´çº¿
3. **å®‰å…¨ä¸åˆè§„**ï¼šæƒé™ç³»ç»Ÿã€ç™½åå•é…ç½®ã€å®¡è®¡æ—¥å¿—ã€åˆè§„æ£€æŸ¥
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šä¸Šä¸‹æ–‡ç®¡ç†ã€è°ƒè¯•æŠ€å·§ã€æˆæœ¬æ§åˆ¶

æŒæ¡è¿™äº›å†…å®¹åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- ä¸ºå›¢é˜Ÿå»ºç«‹ç»Ÿä¸€çš„Claude Codeä½¿ç”¨è§„èŒƒ
- å®ç°è‡ªåŠ¨åŒ–çš„ä»£ç å®¡æŸ¥å’Œå®‰å…¨æ‰«æ
- ç¡®ä¿AIè¾…åŠ©å¼€å‘çš„å®‰å…¨æ€§å’Œåˆè§„æ€§
- æœ‰æ•ˆæ§åˆ¶ä½¿ç”¨æˆæœ¬å¹¶ä¼˜åŒ–æ€§èƒ½

---

**ç‰ˆæœ¬å†å²**ï¼š
- V1.1.0 (2026-01-19)ï¼šæ›´æ–°è‡³Claude Code 2.1.12ï¼Œæ–°å¢Skillså’ŒHooks frontmatterè¯´æ˜ã€é€šé…ç¬¦æƒé™ã€Shift+Enteræ¢è¡Œç­‰æ–°ç‰¹æ€§
- V1.0.0 (2025-12-24)ï¼šåˆå§‹ç‰ˆæœ¬ï¼ŒåŸºäºä¼ä¸šçº§æœ€ä½³å®è·µæŒ‡å—åˆ›å»º

**æœ€åæ›´æ–°**ï¼š2026å¹´2æœˆ25æ—¥
